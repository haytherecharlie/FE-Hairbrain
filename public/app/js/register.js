var NavMenu=function(){function e(){r.click(function(){s.hasClass("open")?t():n()})}function o(){underlay.click(function(){t()})}function n(){s.addClass("open"),i.css("display","block")}function t(){s.removeClass("open"),i.css("display","none")}function a(){i=$("menu"),r=$("button.hamburger"),underlay=$("menu .underlay"),e(),o()}var r,i,s=$("header.navmenu");!function(){s&&s.load("/templates/navmenu.tpl.html",function(){a()})}();return{}}(),ErrorModal=function(){function e(){n=$(".errormodal"),t=$(".errormodal .message"),a=$(".errormodal .dismiss"),a.click(function(){t.empty()})}function o(e){t.text(e),n.modal("show")}var n,t,a,r=$(".errormodalcontainer");!function(){r&&r.load("/templates/errormodal.tpl.html",function(){e()})}();return{populateMessage:o}}(),FooterLinks=function(){function e(){$(".group").each(function(){$(this).click(function(){o(this)})})}function o(e){"none"===$(e).find("a").css("display")?$(e).find("a").css("display","block"):$(e).find("a").css("display","none")}var n=$("footer.footerlinks");!function(){n&&n.load("/templates/footerlinks.tpl.html",function(){e()})}();return{}}(),PhotoUpload=function(){function e(){l.click(function(){i.click(),n()})}function o(){i=$(".photowidget .photoinput"),s=$(".photowidget .photobox"),l=$(".photowidget .photothumb"),e()}function n(){i.change(function(e){t(this.files[0])})}function t(e){ImageTools.resize(e,{width:400,height:300},function(e,o){a(e)})}function a(e){var o=new FileReader;o.onload=function(){var n=new Image;n.onload=function(){r(n,e)},n.src=o.result},o.readAsDataURL(e)}function r(e,o){e.height<e.width?(l.removeClass("default"),l.addClass("rotate")):(l.removeClass("rotate"),l.addClass("default")),l.css("background","url("+e.src+") no-repeat center"),l.css("background-size","cover")}var i,s,l,c=$(".photowidget");!function(){c&&c.load("/templates/photoupload.tpl.html",function(){o()})}();return{}}(),Register=function(){function e(){var e=document.getElementById("salon");new google.maps.places.Autocomplete(e)}function o(){if("Kanye2020"===l.val()){var e=new FormData;e.append("avatar",$(".photoinput")[0].files[0],"avatar.jpg"),e.append("firstname",n.val()),e.append("lastname",t.val()),e.append("phone",i.val()),e.append("password",r.val()),e.append("email",a.val()),e.append("salon",s.val());var o={async:!0,crossDomain:!0,url:apiurl+"register",method:"POST",headers:{"cache-control":"no-cache"},processData:!1,contentType:!1,mimeType:"multipart/form-data",data:e,statusCode:{200:function(e,o){u.modal("show")},400:function(e,o){ErrorModal.populateMessage(e.responseText)},401:function(e,o){ErrorModal.populateMessage(e.responseText)},500:function(e,o){ErrorModal.populateMessage("Hairbrain isn't working right now. Please try again later.")}}};$.ajax(o)}else ErrorModal.populateMessage("Beta keyword incorrect.")}var n=($(".registerpage .registerform"),$(".registerpage .registerform .firstname")),t=$(".registerpage .registerform .lastname"),a=$(".registerpage .registerform .email"),r=$(".registerpage .registerform .password"),i=$(".registerpage .registerform .phone"),s=$(".registerpage .registerform .salon"),l=($(".registerpage .registerform .photoinput"),$(".registerpage .registerform .keyword")),c=$(".registerpage .registerform .submit"),u=$(".registerpage .successmodal"),p=$(".registerpage .login");c.click(function(){o()}),p.click(function(){location.href=location.origin});!function(){google.maps.event.addDomListener(window,"load",e)}();return{}}();